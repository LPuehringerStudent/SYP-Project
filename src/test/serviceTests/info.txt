The serviceTests/ folder should be populated with direct service unit tests that:

  1. Test service methods in isolation (without HTTP layer)
  2. Test database transaction handling
  3. Test edge cases and error conditions
  4. Test the Unit class database utilities

  This would improve coverage and catch issues at the business logic level, not just at the API level.

for ayan by ayan:
I unit-test service methods by mocking the database unit and its prepared statement(prepare()).
In each test I set mockUnit.prepare.mockReturnValue(mockStmt) and control DB results with mockStmt.run/get/all.mockReturnValue().
I call the service method and assert the returned values like [success, id] or result arrays/objects.
Instead of expect.stringContaining(...), I often read mockUnit.prepare.mock.calls[0] and check sql with toContain(...) plus params with toEqual(...).
This keeps tests stable and avoids SQL parser/editor errors while still verifying the query + parameters.
